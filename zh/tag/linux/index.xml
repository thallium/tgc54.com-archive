<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Linux | Thallium54</title><link>https://tgc54.com/zh/tag/linux/</link><atom:link href="https://tgc54.com/zh/tag/linux/index.xml" rel="self" type="application/rss+xml"/><description>Linux</description><generator>Wowchemy (https://wowchemy.com)</generator><language>zh-Hans</language><lastBuildDate>Fri, 27 Mar 2020 00:00:00 +0000</lastBuildDate><image><url>https://tgc54.com/media/icon_hu423b19687c85b10febae54029c442fbf_4135_512x512_fill_lanczos_center_3.png</url><title>Linux</title><link>https://tgc54.com/zh/tag/linux/</link></image><item><title>Manjaro 折腾记录</title><link>https://tgc54.com/zh/post/manjaro-setup/</link><pubDate>Fri, 27 Mar 2020 00:00:00 +0000</pubDate><guid>https://tgc54.com/zh/post/manjaro-setup/</guid><description>&lt;p>随缘更新，想到啥就记啥&lt;/p>
&lt;h2 id="配置">配置&lt;/h2>
&lt;h3 id="触摸板">触摸板&lt;/h3>
&lt;p>一开始发现触摸板右键和左键效果是一样的，双指轻按还是中键……&lt;/p>
&lt;p>解决方法：&lt;/p>
&lt;p>编辑 &lt;code>/etc/X11/xorg.conf.d/30-touchpad.conf&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">Section &lt;span class="s2">&amp;#34;InputClass&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Identifier &lt;span class="s2">&amp;#34;touchpad&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> MatchIsTouchpad &lt;span class="s2">&amp;#34;on&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> MatchDevicePath &lt;span class="s2">&amp;#34;/dev/input/event*&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Driver &lt;span class="s2">&amp;#34;libinput&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Option &lt;span class="s2">&amp;#34;Tapping&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;on&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Option &lt;span class="s2">&amp;#34;ButtonMapping&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;1 3 2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Option &lt;span class="s2">&amp;#34;TappingButtonMap&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;lmr&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">EndSection
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="映射capshjkl为方向键">映射caps+hjkl为方向键&lt;/h3>
&lt;p>编辑&lt;code>~/.Xmodmap&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">clear lock
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">keycode &lt;span class="nv">43&lt;/span> &lt;span class="o">=&lt;/span> h H Left H
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">keycode &lt;span class="nv">44&lt;/span> &lt;span class="o">=&lt;/span> j J Down J
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">keycode &lt;span class="nv">45&lt;/span> &lt;span class="o">=&lt;/span> k K Up K
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">keycode &lt;span class="nv">46&lt;/span> &lt;span class="o">=&lt;/span> l L Right L
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">keycode &lt;span class="nv">66&lt;/span> &lt;span class="o">=&lt;/span> Mode_switch Caps_Lock
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">keycode &lt;span class="nv">31&lt;/span> &lt;span class="o">=&lt;/span> i I KP_Home I
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">keycode &lt;span class="nv">32&lt;/span> &lt;span class="o">=&lt;/span> o O KP_End O
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Then update xmodmap:&lt;/p>
&lt;p>{% highlight shell %}
xmodmap ~/.Xmodmap
{% endhighlight %}&lt;/p>
&lt;p>解决挂起后失效的问题：&lt;/p>
&lt;p>{% highlight shell %}
sudo touch /usr/lib/systemd/system-sleep/xkeyboard
sudo chmod 755 /usr/lib/systemd/system-sleep/xkeyboard
{% endhighlight %}&lt;/p>
&lt;p>编辑&lt;code>xkeyboard&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">case&lt;/span> &lt;span class="nv">$1&lt;/span> in
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> pre&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exit&lt;/span> &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> post&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">export&lt;/span> &lt;span class="nv">DISPLAY&lt;/span>&lt;span class="o">=&lt;/span>:0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sleep &lt;span class="m">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> xmodmap /home/thallium/.Xmodmap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">esac&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="主题">主题&lt;/h3>
&lt;p>&lt;a href="https://github.com/horst3180/arc-theme" target="_blank" rel="noopener">arc&lt;/a>&lt;/p>
&lt;p>{% highlight shell %}
sudo pacman -S arc-gtk-theme
{% endhighlight %}&lt;/p>
&lt;h2 id="软件">软件&lt;/h2>
&lt;h3 id="vim配置">vim配置&lt;/h3>
&lt;p>待更新&lt;/p>
&lt;h3 id="fcitx码表">fcitx码表&lt;/h3>
&lt;p>待更新&lt;/p>
&lt;h3 id="autojump">Autojump&lt;/h3>
&lt;p>快速跳转文件夹，再也不用长长的cd了～&lt;/p>
&lt;h4 id="安装">安装&lt;/h4>
&lt;p>{% highlight shell %}
yay autojump
{% endhighlight %}&lt;/p>
&lt;h4 id="source-the-correct-autojump-file">Source the correct autojump file&lt;/h4>
&lt;p>{% highlight shell %}
echo &amp;ldquo;/usr/share/autojump/autojump.bash&amp;rdquo; &amp;raquo; ~/.bashrc
chmod 755 /usr/share/autojump/autojump.bash
source ~/.bashrc
{% endhighlight %}&lt;/p>
&lt;h4 id="注意事项">注意事项&lt;/h4>
&lt;p>快速跳转的文件夹需要正常访问一次。&lt;/p>
&lt;h3 id="截图-deepin-screenshot">截图: Deepin screenshot&lt;/h3>
&lt;p>一开始用的是火焰截图，但是不能自动识别窗口，后来偶然发现deepin screenshot感觉挺不错的。&lt;/p>
&lt;p>{% highlight shell %}
sudo pacman -S deepin-screenshot
{% endhighlight %}&lt;/p>
&lt;p>如果不能正常复制到剪贴板，安装&lt;code>xfce4-clipman&lt;/code>&lt;/p>
&lt;h3 id="词典">词典&lt;/h3>
&lt;p>&lt;a href="https://github.com/ChestnutHeng/Wudao-dict" target="_blank" rel="noopener">Wudao dict&lt;/a>&lt;/p>
&lt;p>安装：&lt;/p>
&lt;p>{% highlight shell %}
git clone &lt;a href="https://github.com/chestnutheng/wudao-dict" target="_blank" rel="noopener">https://github.com/chestnutheng/wudao-dict&lt;/a>
cd ./wudao-dict/wudao-dict
sudo bash setup.sh
{% endhighlight %}&lt;/p>
&lt;h2 id="问题解决">问题解决&lt;/h2>
&lt;h3 id="修改etcprofile导致循环登录">修改&lt;code>/etc/profile&lt;/code>导致循环登录&lt;/h3>
&lt;p>2020.03.27&lt;/p>
&lt;p>一般的解决方法是从命令行登录然后恢复之前的修改，但我从命令行也是循环登录……于是想到能不能从windows修改然后发现有个软件叫linux file system for windows，然后问题就解决了。真的太不容易了，心态差点崩了……&lt;/p>
&lt;h3 id="gnome-shell内存泄漏问题">Gnome-shell内存泄漏问题&lt;/h3>
&lt;p>gnome传统艺能，&lt;code>alt+F2&lt;/code>再输入&lt;code>r&lt;/code>可以重新启动shell。&lt;/p>
&lt;h3 id="让gvim默认在新标签中启动">让gvim默认在新标签中启动&lt;/h3>
&lt;p>编辑&lt;code>/usr/share/applications/gvim.desktop&lt;/code>&lt;/p>
&lt;p>把
{% highlight shell %}
Exec=gvim -f %F
{% endhighlight %}
改成
{% highlight shell %}
Exec=gvim -p &amp;ndash;remote-tab-silent %F
{% endhighlight %}&lt;/p>
&lt;h3 id="i3wm下运行qqtimwechat">i3wm下运行QQ/TIM/Wechat&lt;/h3>
&lt;p>2020-04-13&lt;/p>
&lt;p>&lt;a href="http://www.waimaosns.cc/arch-linux-i3wm-run-deepin-qq-tim/" target="_blank" rel="noopener">原作者&lt;/a>&lt;/p>
&lt;p>{% highlight shell %}
nohup /usr/lib/gsd-xsettings &amp;gt; /dev/null 2&amp;gt;&amp;amp;1 &amp;amp;
cd /opt/deepinwine/apps/Deepin-TIM
./run.sh
{% endhighlight %}&lt;/p>
&lt;p>最后将第一步添加到i3启动项里。&lt;/p></description></item></channel></rss>